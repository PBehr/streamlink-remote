<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>Streamlink Remote</title>
	<link rel="stylesheet" href="/css/style.css">
</head>
<body>
	<div id="app">
		<!-- Header -->
		<header class="header">
			<div class="header-content">
				<h1 class="logo">üì∫ Streamlink Remote</h1>
				<div class="header-actions">
					<button id="refresh-btn" class="btn btn-icon" title="Refresh">
						<span class="icon">üîÑ</span>
					</button>
					<div id="auth-status" class="auth-status"></div>
				</div>
			</div>
		</header>

		<!-- Navigation -->
		<nav class="nav">
			<button class="nav-item active" data-view="live">
				<span class="icon">üî¥</span>
				Live
			</button>
			<button class="nav-item" data-view="featured">
				<span class="icon">‚≠ê</span>
				Featured
			</button>
			<button class="nav-item" data-view="active">
				<span class="icon">‚ñ∂Ô∏è</span>
				Active
				<span id="active-count" class="badge">0</span>
			</button>
			<button class="nav-item" data-view="search">
				<span class="icon">üîç</span>
				Search
			</button>
			<button class="nav-item" data-view="vods">
				<span class="icon">üìº</span>
				VODs
			</button>
			<button class="nav-item" data-view="clips">
				<span class="icon">‚úÇÔ∏è</span>
				Clips
			</button>
			<button class="nav-item" data-view="youtube">
				<span class="icon">üì∫</span>
				YouTube
			</button>
			<button class="nav-item" data-view="recordings">
				<span class="icon">‚è∫Ô∏è</span>
				DVR
			</button>
			<button class="nav-item" data-view="settings">
				<span class="icon">‚öôÔ∏è</span>
				Settings
			</button>
		</nav>

		<!-- Main Content -->
		<main class="main">
			<!-- Loading State -->
			<div id="loading" class="loading hidden">
				<div class="spinner"></div>
				<p>Loading...</p>
			</div>

			<!-- Live Streams View -->
			<div id="view-live" class="view active">
				<div class="view-header">
					<h2>Live Streams from Followed Channels</h2>
				</div>
				<div id="live-streams" class="stream-grid"></div>
				<div id="live-empty" class="empty-state hidden">
					<p>No live streams from your followed channels</p>
					<p class="text-muted">Try the Featured tab or Search for channels</p>
				</div>
			</div>

			<!-- Featured Streams View -->
			<div id="view-featured" class="view">
				<div class="view-header">
					<h2>Featured Streams</h2>
				</div>
				<div id="featured-streams" class="stream-grid"></div>
			</div>

			<!-- Active Streams View -->
			<div id="view-active" class="view">
				<div class="view-header">
					<h2>Currently Playing</h2>
				</div>
				<div id="active-streams" class="active-streams-list"></div>
				<div id="active-empty" class="empty-state hidden">
					<p>No streams currently playing</p>
					<p class="text-muted">Start a stream from the Live or Featured tabs</p>
				</div>
			</div>

			<!-- Search View -->
			<div id="view-search" class="view">
				<div class="view-header">
					<div class="search-box">
						<input type="text" id="search-input" placeholder="Search for channels..." class="search-input">
						<button id="search-btn" class="btn btn-primary">Search</button>
					</div>
				</div>
				<div id="search-results" class="stream-grid"></div>
				<div id="search-empty" class="empty-state hidden">
					<p>Enter a channel name to search</p>
				</div>
			</div>

			<!-- VODs View -->
			<div id="view-vods" class="view">
				<div class="view-header">
					<h2>Twitch VODs</h2>
					<div class="view-filters">
						<select id="vods-channel-select" class="select select-small">
							<option value="">All Channels</option>
						</select>
						<select id="vods-type-select" class="select select-small">
							<option value="archive">Past Broadcasts</option>
							<option value="highlight">Highlights</option>
							<option value="upload">Uploads</option>
							<option value="all">All</option>
						</select>
					</div>
				</div>
				<div id="vods-list" class="stream-grid"></div>
				<div id="vods-empty" class="empty-state hidden">
					<p>No VODs found</p>
					<p class="text-muted">VODs from your followed channels will appear here</p>
				</div>
			</div>

			<!-- Clips View -->
			<div id="view-clips" class="view">
				<div class="view-header">
					<h2>Twitch Clips</h2>
					<div class="view-filters">
						<select id="clips-channel-select" class="select select-small">
							<option value="">All Channels</option>
						</select>
						<select id="clips-period-select" class="select select-small">
							<option value="day" selected>Last 24 Hours</option>
							<option value="week">Last Week</option>
							<option value="month">Last Month</option>
							<option value="all">All Time</option>
						</select>
					</div>
				</div>
				<div id="clips-list" class="stream-grid"></div>
				<div id="clips-empty" class="empty-state hidden">
					<p>No clips found</p>
					<p class="text-muted">Clips from your followed channels will appear here</p>
				</div>
			</div>

			<!-- YouTube View -->
			<div id="view-youtube" class="view">
				<div class="view-header">
					<h2>YouTube Videos</h2>
				</div>

				<!-- Channel Management Section -->
				<div class="youtube-channels-section">
					<div class="youtube-add-channel">
						<input type="text" id="youtube-channel-input" placeholder="YouTube channel URL or @handle..." class="search-input">
						<button id="youtube-add-btn" class="btn btn-primary">Add Channel</button>
					</div>
					<div id="youtube-channels-list" class="youtube-channels-list"></div>
				</div>

				<!-- Videos Feed -->
				<div class="youtube-videos-section">
					<h3>Recent Videos</h3>
					<div id="youtube-videos" class="stream-grid"></div>
					<div id="youtube-empty" class="empty-state hidden">
						<p>No YouTube channels added yet</p>
						<p class="text-muted">Add a channel above to see recent videos</p>
					</div>
				</div>
			</div>

			<!-- Recordings/DVR View -->
			<div id="view-recordings" class="view">
				<div class="view-header">
					<h2>DVR - Auto-Recordings</h2>
				</div>

				<!-- Recording Rules Section -->
				<div class="recording-rules-section">
					<h3>Recording Rules</h3>
					<p class="text-muted">Automatically record streams when a channel goes live with a specific game.</p>

					<div class="recording-rule-form">
						<div class="form-row">
							<input type="text" id="rule-channel" placeholder="Channel name (e.g. eliasn97)" class="input">
							<input type="text" id="rule-game" placeholder="Game filter (optional, e.g. Among Us)" class="input">
							<select id="rule-quality" class="select">
								<option value="best">Best Quality</option>
								<option value="1080p60">1080p60</option>
								<option value="1080p">1080p</option>
								<option value="720p60">720p60</option>
								<option value="720p">720p</option>
							</select>
							<button id="add-rule-btn" class="btn btn-primary">Add Rule</button>
						</div>
					</div>

					<div id="recording-rules-list" class="recording-rules-list"></div>
					<div id="rules-empty" class="empty-state hidden">
						<p>No recording rules configured</p>
						<p class="text-muted">Add a rule above to automatically record streams</p>
					</div>
				</div>

				<!-- Active Recordings Section -->
				<div class="active-recordings-section">
					<h3>Active Recordings</h3>
					<div id="active-recordings-list" class="active-recordings-list"></div>
					<div id="active-recordings-empty" class="empty-state">
						<p>No recordings in progress</p>
					</div>
				</div>

				<!-- Past Recordings Section -->
				<div class="past-recordings-section">
					<h3>Past Recordings</h3>
					<div id="recordings-list" class="recordings-list"></div>
					<div id="recordings-empty" class="empty-state hidden">
						<p>No recordings yet</p>
					</div>
				</div>

				<!-- Settings Section -->
				<div class="recording-settings-section">
					<h3>Settings</h3>
					<div class="form-row">
						<label>Auto-delete recordings after:</label>
						<select id="recording-max-age" class="select">
							<option value="3">3 days</option>
							<option value="7" selected>7 days</option>
							<option value="14">14 days</option>
							<option value="30">30 days</option>
							<option value="0">Never</option>
						</select>
						<button id="save-recording-settings-btn" class="btn">Save</button>
					</div>
				</div>
			</div>

			<!-- Settings View -->
			<div id="view-settings" class="view">
				<div class="view-header">
					<h2>Settings</h2>
				</div>
				<div class="settings-container">
					<div class="setting-group">
						<h3>Account</h3>
						<div id="account-info" class="account-info"></div>
					</div>

					<div class="setting-group">
						<h3>Stream Quality</h3>
						<select id="quality-select" class="select">
							<option value="best">Best</option>
							<option value="1080p60">1080p60</option>
							<option value="1080p">1080p</option>
							<option value="720p60">720p60</option>
							<option value="720p">720p</option>
							<option value="480p">480p</option>
							<option value="360p">360p</option>
							<option value="worst">Worst</option>
						</select>
					</div>

					<div class="setting-group">
						<h3>Low Latency</h3>
						<label class="checkbox">
							<input type="checkbox" id="low-latency-check">
							<span>Enable Twitch low latency mode</span>
						</label>
					</div>

					<div class="setting-group">
						<button id="save-settings-btn" class="btn btn-primary">Save Settings</button>
					</div>

					<div class="setting-group">
						<h3>M3U Playlists</h3>
						<p class="text-muted" style="margin-bottom: 0.5rem;">Use these URLs in VLC or IPTV apps</p>
						<div id="playlist-links" class="playlist-links"></div>
					</div>
				</div>
			</div>
		</main>
	</div>

	<!-- Stream Modal -->
	<div id="stream-modal" class="modal hidden">
		<div class="modal-overlay"></div>
		<div class="modal-content">
			<button class="modal-close">&times;</button>
			<div id="modal-body"></div>
		</div>
	</div>

	<!-- Toast Notifications -->
	<div id="toast-container" class="toast-container"></div>

	<script src="/js/api.js"></script>
	<script src="/js/websocket.js"></script>
	<script src="/js/app.js"></script>
</body>
</html>
